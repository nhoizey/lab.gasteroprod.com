<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title>Issue with vertical drap&amp;drop in Firefox on an SVG / jQuery element - Miscellaneous tests - Nicolas Hoizey's playground</title>
<link rel="stylesheet" href="../../styles.css" />
</head>
<body>
<div id="page">
  <h1><a href="../../">Nicolas Hoizey's playground</a></h1>
  <h2><a href="../">Miscellaneous tests</a></h2>
  <h3>Issue with vertical drap&amp;drop in Firefox on an SVG / jQuery element</h3>
  <div class="fixed">
    <p><strong>FIXED!</strong></p>
    <p>I thought Firefox had issues with <code>&lt;symbol&gt;</code>, because there was <a href="http://jsfiddle.net/nhoizey/5YyMD/">no more issue when removing it</a>, and I filled a <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=725277">bug report</a>.
    <p>But it was in fact only <strong>my fault</strong>, <a href="https://bugzilla.mozilla.org/show_bug.cgi?id=725277#c1">I forgot to use <code>event.preventDefault();</code></a> in my event handlers.</p>
  </div>
  <p><a href="test.html">This page</a> loads an SVG image in an inline <code>&lt;symbol&gt;</code> SVG element, a mix of pure JavaScript and jQuery code adds a <code>&lt;use&gt;</code> element referencing this image, and attaches drag&amp;drop events (mousedown, mousemove, mouseup) to it.</p>
  <p>Draging the image &ndash; vertical drag only by design &ndash; is really smooth in all browsers <strong>except for Firefox!</strong></p>
  <p><strong>Disclaimer:</strong> Of course I could remove jQuery and use only pure JavaScript, but I pretty sure the issue doesn't come from there.</p>
  <p>Also available <a href="http://jsfiddle.net/nhoizey/p8mXU/">as a JSFiddle</a> so that you can fork and hack:</p>
  <iframe style="width: 100%; height: 500px" src="http://jsfiddle.net/nhoizey/p8mXU/embedded/result,html,js,css/" allowfullscreen="allowfullscreen" frameborder="0"></iframe>
</div>
<script type="text/javascript">

  var _gaq = _gaq || [];
  _gaq.push(['_setAccount', 'UA-29037045-1']);
  _gaq.push(['_trackPageview']);

  (function() {
    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
  })();

</script>
</body>
</html>